{"ast":null,"code":"import{useContext}from\"react\";import{CurrentUserContext}from\"../../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var _card$likes;var card=_ref.card,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var currentUser=useContext(CurrentUserContext);var isOwn=card.owner._id===currentUser._id;var isLiked=card.likes.some(function(i){return i._id===currentUser._id;});var cardLikedClassName=\"cards__heart cursor-pointer \".concat(isLiked&&'cards__heart_active');function handleDeleteClick(){onCardDelete(card);}function handleLikeClick(){onCardLike(card);}function handleClick(){onCardClick(card);}return/*#__PURE__*/_jsxs(\"li\",{className:\"cards\",children:[isOwn&&/*#__PURE__*/_jsx(\"button\",{className:\"cards__trash cursor-pointer button-clickable\",\"aria-label\":\"\\u041C\\u0443\\u0441\\u043E\\u0440\\u043A\\u0430\",type:\"button\",onClick:handleDeleteClick}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\".concat(card.link,\")\")},className:\"cards__img cursor-pointer\",onClick:handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"cards__name-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"cards__name\",children:card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"cards__heart-box\",children:[/*#__PURE__*/_jsx(\"button\",{className:cardLikedClassName,\"aria-label\":\"\\u0421\\u0435\\u0440\\u0434\\u0446\\u0435\",type:\"button\",onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"cards__heart-count\",children:(_card$likes=card.likes)===null||_card$likes===void 0?void 0:_card$likes.length})]})]})]});}export default Card;","map":{"version":3,"names":["useContext","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","_ref","_card$likes","card","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","owner","_id","isLiked","likes","some","i","cardLikedClassName","concat","handleDeleteClick","handleLikeClick","handleClick","className","children","type","onClick","style","backgroundImage","link","name","length"],"sources":["C:/Users/Администратор/Desktop/Study/dev/ten-project/mesto-react/src/components/landing/Card.js"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikedClassName = (`cards__heart cursor-pointer ${isLiked && 'cards__heart_active'}`);\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"cards\">\r\n      {isOwn && (\r\n        <button\r\n          className=\"cards__trash cursor-pointer button-clickable\"\r\n          aria-label=\"Мусорка\"\r\n          type=\"button\"\r\n          onClick={handleDeleteClick}\r\n        />\r\n      )}\r\n      <div\r\n        style={{ backgroundImage: `url(${card.link})` }}\r\n        className=\"cards__img cursor-pointer\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"cards__name-form\">\r\n        <h2 className=\"cards__name\">{card.name}</h2>\r\n        <div className=\"cards__heart-box\">\r\n          <button\r\n            className={cardLikedClassName}\r\n            aria-label=\"Сердце\"\r\n            type=\"button\"\r\n            onClick={handleLikeClick}\r\n          />\r\n          <p className=\"cards__heart-count\">{card.likes?.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":"AAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,OAASC,kBAAkB,KAAQ,mCAAmC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAkD,KAAAC,WAAA,IAA/C,CAAAC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CAAEC,WAAW,CAAAH,IAAA,CAAXG,WAAW,CAAEC,UAAU,CAAAJ,IAAA,CAAVI,UAAU,CAAEC,YAAY,CAAAL,IAAA,CAAZK,YAAY,CACzD,GAAM,CAAAC,WAAW,CAAGb,UAAU,CAACC,kBAAkB,CAAC,CAElD,GAAM,CAAAa,KAAK,CAAGL,IAAI,CAACM,KAAK,CAACC,GAAG,GAAKH,WAAW,CAACG,GAAG,CAChD,GAAM,CAAAC,OAAO,CAAGR,IAAI,CAACS,KAAK,CAACC,IAAI,CAAC,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACJ,GAAG,GAAKH,WAAW,CAACG,GAAG,GAAC,CAC/D,GAAM,CAAAK,kBAAkB,gCAAAC,MAAA,CAAmCL,OAAO,EAAI,qBAAqB,CAAG,CAE9F,QAAS,CAAAM,iBAAiBA,CAAA,CAAG,CAC3BX,YAAY,CAACH,IAAI,CAAC,CACpB,CAEA,QAAS,CAAAe,eAAeA,CAAA,CAAG,CACzBb,UAAU,CAACF,IAAI,CAAC,CAClB,CAEA,QAAS,CAAAgB,WAAWA,CAAA,CAAG,CACrBf,WAAW,CAACD,IAAI,CAAC,CACnB,CAEA,mBACEJ,KAAA,OAAIqB,SAAS,CAAC,OAAO,CAAAC,QAAA,EAClBb,KAAK,eACJX,IAAA,WACEuB,SAAS,CAAC,8CAA8C,CACxD,aAAW,4CAAS,CACpBE,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEN,iBAAkB,CAC5B,CACF,cACDpB,IAAA,QACE2B,KAAK,CAAE,CAAEC,eAAe,QAAAT,MAAA,CAASb,IAAI,CAACuB,IAAI,KAAI,CAAE,CAChDN,SAAS,CAAC,2BAA2B,CACrCG,OAAO,CAAEJ,WAAY,CACtB,CAAC,cACFpB,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BxB,IAAA,OAAIuB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAElB,IAAI,CAACwB,IAAI,CAAK,CAAC,cAC5C5B,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BxB,IAAA,WACEuB,SAAS,CAAEL,kBAAmB,CAC9B,aAAW,sCAAQ,CACnBO,IAAI,CAAC,QAAQ,CACbC,OAAO,CAAEL,eAAgB,CAC1B,CAAC,cACFrB,IAAA,MAAGuB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAAnB,WAAA,CAAEC,IAAI,CAACS,KAAK,UAAAV,WAAA,iBAAVA,WAAA,CAAY0B,MAAM,CAAI,CAAC,EACvD,CAAC,EACH,CAAC,EACJ,CAAC,CAET,CAEA,cAAe,CAAA5B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}