{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/ten-project/mesto-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/ten-project/mesto-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/ten-project/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import api from\"../../utils/Api\";import Card from\"./Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onEditAvatar=_ref.onEditAvatar,onCardClick=_ref.onCardClick;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),isUserName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),isUserDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),UserAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];useEffect(function(){var getUserInfo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$Promise$all,_yield$Promise$all2,dataProfile,dataCards;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Promise.all([api.pullProfileInfo(),api.pullCardInfo()]);case 3:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);dataProfile=_yield$Promise$all2[0];dataCards=_yield$Promise$all2[1];setUserName(dataProfile.name);setUserDescription(dataProfile.about);setUserAvatar(dataProfile.avatar);setCards(dataCards);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F: \".concat(_context.t0));case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function getUserInfo(){return _ref2.apply(this,arguments);};}();getUserInfo();},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__avatar-container cursor-pointer\",children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\".concat(UserAvatar,\")\")},className:\"profile__avatar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__avatar-overlay\",onClick:onEditAvatar})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__data\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:isUserName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-edit button-clickable cursor-pointer\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",type:\"button\",onClick:onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__activity\",children:isUserDescription})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__button-add button-clickable cursor-pointer\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"places\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"places__cards\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:onCardClick},card._id);})})})]});}export default Main;","map":{"version":3,"names":["useEffect","useState","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditProfile","onAddPlace","onEditAvatar","onCardClick","_useState","_useState2","_slicedToArray","isUserName","setUserName","_useState3","_useState4","isUserDescription","setUserDescription","_useState5","_useState6","UserAvatar","setUserAvatar","_useState7","_useState8","cards","setCards","getUserInfo","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$Promise$all","_yield$Promise$all2","dataProfile","dataCards","wrap","_callee$","_context","prev","next","Promise","all","pullProfileInfo","pullCardInfo","sent","name","about","avatar","t0","console","error","concat","stop","apply","arguments","className","children","style","backgroundImage","onClick","type","map","card","_id"],"sources":["C:/Users/Администратор/Desktop/Study/dev/ten-project/mesto-react/src/components/landing/Main.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport api from \"../../utils/Api\";\nimport Card from \"./Card\";\n\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick }) {\n  const [isUserName, setUserName] = useState(\"\");\n  const [isUserDescription, setUserDescription] = useState(\"\");\n  const [UserAvatar, setUserAvatar] = useState(\"\");\n  const [cards, setCards] = useState([]);\n\n\n  useEffect(() => {\n    const getUserInfo = async () => {\n      try {\n        const [dataProfile, dataCards] = await Promise.all([\n          api.pullProfileInfo(),\n          api.pullCardInfo(),\n        ]);\n        setUserName(dataProfile.name);\n        setUserDescription(dataProfile.about);\n        setUserAvatar(dataProfile.avatar);\n        setCards(dataCards);\n      } catch (error) {\n        console.error(`Ошибка при загрузке данных пользователя: ${error}`);\n      }\n    };\n\n    getUserInfo();\n  }, []);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__info\">\n          <div className=\"profile__avatar-container cursor-pointer\">\n            <div\n              style={{ backgroundImage: `url(${UserAvatar})` }}\n              className=\"profile__avatar\"\n            />\n            <div\n              className=\"profile__avatar-overlay\"\n              onClick={onEditAvatar}\n            />\n          </div>\n          <div className=\"profile__data\">\n            <h1 className=\"profile__name\">{isUserName}</h1>\n            <button\n              className=\"profile__button-edit button-clickable cursor-pointer\"\n              aria-label=\"Редактировать\"\n              type=\"button\"\n              onClick={onEditProfile}\n            />\n            <p className=\"profile__activity\">{isUserDescription}</p>\n          </div>\n        </div>\n        <button\n          className=\"profile__button-add button-clickable cursor-pointer\"\n          aria-label=\"Добавить\"\n          type=\"button\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section className=\"places\">\n        <ul className=\"places__cards\">\n          {cards.map((card) => (\n            <Card card={card} onCardClick={onCardClick} key={card._id}/>\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n"],"mappings":"qpBAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,MAAO,CAAAC,IAAI,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAA2D,IAAxD,CAAAC,aAAa,CAAAD,IAAA,CAAbC,aAAa,CAAEC,UAAU,CAAAF,IAAA,CAAVE,UAAU,CAAEC,YAAY,CAAAH,IAAA,CAAZG,YAAY,CAAEC,WAAW,CAAAJ,IAAA,CAAXI,WAAW,CAClE,IAAAC,SAAA,CAAkCb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,UAAU,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAgDlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArDE,iBAAiB,CAAAD,UAAA,IAAEE,kBAAkB,CAAAF,UAAA,IAC5C,IAAAG,UAAA,CAAoCtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAA0B1B,QAAQ,CAAC,EAAE,CAAC,CAAA2B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAGtB5B,SAAS,CAAC,UAAM,CACd,GAAM,CAAA+B,WAAW,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,kBAAA,CAAAC,mBAAA,CAAAC,WAAA,CAAAC,SAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEuB,CAAAC,OAAO,CAACC,GAAG,CAAC,CACjD7C,GAAG,CAAC8C,eAAe,CAAC,CAAC,CACrB9C,GAAG,CAAC+C,YAAY,CAAC,CAAC,CACnB,CAAC,QAAAZ,kBAAA,CAAAM,QAAA,CAAAO,IAAA,CAAAZ,mBAAA,CAAAtB,cAAA,CAAAqB,kBAAA,IAHKE,WAAW,CAAAD,mBAAA,IAAEE,SAAS,CAAAF,mBAAA,IAI7BpB,WAAW,CAACqB,WAAW,CAACY,IAAI,CAAC,CAC7B7B,kBAAkB,CAACiB,WAAW,CAACa,KAAK,CAAC,CACrC1B,aAAa,CAACa,WAAW,CAACc,MAAM,CAAC,CACjCvB,QAAQ,CAACU,SAAS,CAAC,CAACG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,aAEpBY,OAAO,CAACC,KAAK,4NAAAC,MAAA,CAAAd,QAAA,CAAAW,EAAA,CAAoD,CAAC,CAAC,yBAAAX,QAAA,CAAAe,IAAA,MAAAtB,OAAA,iBAEtE,kBAbK,CAAAL,WAAWA,CAAA,SAAAC,KAAA,CAAA2B,KAAA,MAAAC,SAAA,OAahB,CAED7B,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACExB,KAAA,SAAMsD,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvBvD,KAAA,YAASsD,SAAS,CAAC,SAAS,CAAAC,QAAA,eAC1BvD,KAAA,QAAKsD,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BvD,KAAA,QAAKsD,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvDzD,IAAA,QACE0D,KAAK,CAAE,CAAEC,eAAe,QAAAP,MAAA,CAAShC,UAAU,KAAI,CAAE,CACjDoC,SAAS,CAAC,iBAAiB,CAC5B,CAAC,cACFxD,IAAA,QACEwD,SAAS,CAAC,yBAAyB,CACnCI,OAAO,CAAErD,YAAa,CACvB,CAAC,EACC,CAAC,cACNL,KAAA,QAAKsD,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BzD,IAAA,OAAIwD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAE7C,UAAU,CAAK,CAAC,cAC/CZ,IAAA,WACEwD,SAAS,CAAC,sDAAsD,CAChE,aAAW,gFAAe,CAC1BK,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEvD,aAAc,CACxB,CAAC,cACFL,IAAA,MAAGwD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEzC,iBAAiB,CAAI,CAAC,EACrD,CAAC,EACH,CAAC,cACNhB,IAAA,WACEwD,SAAS,CAAC,qDAAqD,CAC/D,aAAW,kDAAU,CACrBK,IAAI,CAAC,QAAQ,CACbD,OAAO,CAAEtD,UAAW,CACrB,CAAC,EACK,CAAC,cACVN,IAAA,YAASwD,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACzBzD,IAAA,OAAIwD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC1BjC,KAAK,CAACsC,GAAG,CAAC,SAACC,IAAI,qBACd/D,IAAA,CAACF,IAAI,EAACiE,IAAI,CAAEA,IAAK,CAACvD,WAAW,CAAEA,WAAY,EAAMuD,IAAI,CAACC,GAAK,CAAC,EAC7D,CAAC,CACA,CAAC,CACE,CAAC,EACN,CAAC,CAEX,CAEA,cAAe,CAAA7D,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}