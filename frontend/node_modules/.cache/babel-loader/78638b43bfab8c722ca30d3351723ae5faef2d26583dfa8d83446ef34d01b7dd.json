{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/fifteenth-project/mesto-react-front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/fifteenth-project/mesto-react-front/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/fifteenth-project/mesto-react-front/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var url=_ref.url,headers=_ref.headers;_classCallCheck(this,Api);this._generalUrl=url;this._headers=headers;}_createClass(Api,[{key:\"_checkResponse\",value:function _checkResponse(response){if(!response.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(response.status));}return response.json();}},{key:\"_request\",value:function _request(endpoint,options){return fetch(\"\".concat(this._generalUrl).concat(endpoint),_objectSpread(_objectSpread({},options),{},{headers:this._headers})).then(this._checkResponse);}},{key:\"pullProfileInfo\",value:function pullProfileInfo(){return this._request(\"/users/me\");}},{key:\"pullCardInfo\",value:function pullCardInfo(){return this._request(\"/cards\");}},{key:\"patchProfileInfo\",value:function patchProfileInfo(data){return this._request(\"/users/me\",{method:'PATCH',body:JSON.stringify({name:data.username,about:data.useractivity})});}},{key:\"pushCardInfo\",value:function pushCardInfo(data){return this._request(\"/cards\",{method:'POST',body:JSON.stringify({name:data.name,link:data.link})});}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._request(\"/cards/\".concat(cardId),{method:'DELETE'});}},{key:\"likeCard\",value:function likeCard(cardId){return this._request(\"/cards/\".concat(cardId,\"/likes\"),{method:'PUT'});}},{key:\"dislikeCard\",value:function dislikeCard(cardId){return this._request(\"/cards/\".concat(cardId,\"/likes\"),{method:'DELETE'});}},{key:\"toggleLikeCard\",value:function toggleLikeCard(cardId,isLiked){if(isLiked){return this.likeCard(cardId);}else{return this.dislikeCard(cardId);}}},{key:\"pushAvatar\",value:function pushAvatar(data){return this._request(\"/users/me/avatar\",{method:'PATCH',body:JSON.stringify({avatar:data.avatar})});}}]);return Api;}();var serverConfig={url:'https://api.web.portfolio.nomoreparties.co',headers:{'Content-Type':'application/json'}};var api=new Api(serverConfig);export default api;","map":{"version":3,"names":["Api","_ref","url","headers","_classCallCheck","_generalUrl","_headers","_createClass","key","value","_checkResponse","response","ok","Promise","reject","concat","status","json","_request","endpoint","options","fetch","_objectSpread","then","pullProfileInfo","pullCardInfo","patchProfileInfo","data","method","body","JSON","stringify","name","username","about","useractivity","pushCardInfo","link","deleteCard","cardId","likeCard","dislikeCard","toggleLikeCard","isLiked","pushAvatar","avatar","serverConfig","api"],"sources":["C:/Users/Администратор/Desktop/Study/dev/fifteenth-project/mesto-react-front/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor({ url, headers }) {\n    this._generalUrl = url;\n    this._headers = headers;\n  }\n\n  _checkResponse(response) {\n    if (!response.ok) {\n      return Promise.reject(`Ошибка: ${response.status}`);\n    }\n    return response.json();\n  }\n\n  _request(endpoint, options) {\n    return fetch(`${this._generalUrl}${endpoint}`, { ...options, headers: this._headers }).then(this._checkResponse);\n  }\n\n  pullProfileInfo() {\n    return this._request(`/users/me`);\n  }\n\n  pullCardInfo() {\n    return this._request(`/cards`);\n  }\n\n  patchProfileInfo(data) {\n    return this._request(`/users/me`, {\n      method: 'PATCH',\n      body: JSON.stringify({\n        name: data.username,\n        about: data.useractivity\n      })\n    });\n  }\n\n  pushCardInfo(data) {\n    return this._request(`/cards`, {\n      method: 'POST',\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    });\n  }\n\n  deleteCard(cardId) {\n    return this._request(`/cards/${cardId}`, {\n      method: 'DELETE'\n    });\n  }\n\n  likeCard(cardId) {\n    return this._request(`/cards/${cardId}/likes`, {\n      method: 'PUT'\n    });\n  }\n\n  dislikeCard(cardId) {\n    return this._request(`/cards/${cardId}/likes`, {\n      method: 'DELETE'\n    });\n  }\n\n  toggleLikeCard(cardId, isLiked) {\n    if (isLiked) {\n      return this.likeCard(cardId);\n    } else {\n      return this.dislikeCard(cardId);\n    }\n  }\n\n  pushAvatar(data) {\n    return this._request(`/users/me/avatar`, {\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    });\n  }\n}\n\nconst serverConfig = {\n  url: 'https://api.web.portfolio.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n};\n\nconst api = new Api(serverConfig);\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}