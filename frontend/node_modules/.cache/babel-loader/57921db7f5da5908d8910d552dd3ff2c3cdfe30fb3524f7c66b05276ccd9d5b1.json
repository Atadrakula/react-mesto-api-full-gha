{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from\"./PopupWithForm.js\";import React,{useContext,useState,useEffect}from\"react\";import{CurrentUserContext}from\"../../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,loadingText=_ref.loadingText;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),valueName=_useState2[0],setValueName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),valueActivity=_useState4[0],setValueActivity=_useState4[1];var currentUser=useContext(CurrentUserContext);var _ref2=currentUser||{},name=_ref2.name,about=_ref2.about;useEffect(function(){if(isOpen){setValueName(name);setValueActivity(about);}},[name,about,isOpen]);function handleChangeName(e){setValueName(e.target.value);}function handleChangeActivity(e){setValueActivity(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdateUser({username:valueName,useractivity:valueActivity});}return/*#__PURE__*/_jsx(PopupWithForm,{isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,name:\"popup-edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{name:\"username\",type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",className:\"popup__input popup__input_type_username\",minLength:\"2\",maxLength:\"40\",value:valueName||'',onChange:handleChangeName,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-text-error popup__input-text-error_type_username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"useractivity\",type:\"text\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",className:\"popup__input popup__input_type_useractivity\",minLength:\"2\",maxLength:\"200\",value:valueActivity||'',onChange:handleChangeActivity,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-text-error popup__input-text-error_type_useractivity\"}),/*#__PURE__*/_jsx(\"button\",{id:\"button-submit-popup-edit\",type:\"submit\",className:\"popup__submit\",children:loadingText||'Сохранить'})]})});}export default EditProfilePopup;","map":{"version":3,"names":["PopupWithForm","React","useContext","useState","useEffect","CurrentUserContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","loadingText","_useState","_useState2","_slicedToArray","valueName","setValueName","_useState3","_useState4","valueActivity","setValueActivity","currentUser","_ref2","name","about","handleChangeName","e","target","value","handleChangeActivity","handleSubmit","preventDefault","username","useractivity","onSubmit","title","children","type","placeholder","className","minLength","maxLength","onChange","required","id"],"sources":["C:/Users/Администратор/Desktop/Study/dev/twelve-project/mesto-react/src/components/landing/EditProfilePopup.js"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, loadingText }) {\r\n  const [valueName, setValueName] = useState('');\r\n  const [valueActivity, setValueActivity] = useState('');\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const { name, about } = currentUser || {};\r\n\r\n  useEffect(() => {\r\n    if(isOpen) {\r\n      setValueName(name);\r\n      setValueActivity(about);\r\n    }\r\n  }, [name, about, isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setValueName(e.target.value);\r\n  }\r\n\r\n  function handleChangeActivity(e) {\r\n    setValueActivity(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      username: valueName,\r\n      useractivity: valueActivity,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      name=\"popup-edit\"\r\n      title=\"Редактировать профиль\"\r\n      children={\r\n        <>\r\n          <input\r\n            name=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Имя\"\r\n            className=\"popup__input popup__input_type_username\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            value={valueName || ''}\r\n            onChange={handleChangeName}\r\n            required\r\n          />\r\n          <span className=\"popup__input-text-error popup__input-text-error_type_username\" />\r\n          <input\r\n            name=\"useractivity\"\r\n            type=\"text\"\r\n            placeholder=\"О себе\"\r\n            className=\"popup__input popup__input_type_useractivity\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            value={valueActivity || ''}\r\n            onChange={handleChangeActivity}\r\n            required\r\n          />\r\n          <span className=\"popup__input-text-error popup__input-text-error_type_useractivity\" />\r\n          <button\r\n            id=\"button-submit-popup-edit\"\r\n            type=\"submit\"\r\n            className=\"popup__submit\"\r\n          >\r\n            {loadingText || 'Сохранить'}\r\n          </button>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\n\r\nexport default EditProfilePopup;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}