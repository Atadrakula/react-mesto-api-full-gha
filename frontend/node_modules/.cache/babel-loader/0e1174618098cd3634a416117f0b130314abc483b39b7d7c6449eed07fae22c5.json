{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useNavigate}from\"react-router-dom\";import React,{useState}from\"react\";import PageWithIdentification from\"./PageWithIdentification\";import authenticationApi from\"../../utils/Authentication\";import{jsx as _jsx}from\"react/jsx-runtime\";function Register(_ref){var onSuccess=_ref.onSuccess,onFailure=_ref.onFailure;var navigate=useNavigate();var _useState=useState({password:\"\",email:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return authenticationApi.pushRegistration(data);case 4:result=_context.sent;if(result.data){onSuccess();navigate('/sign-in');}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);onFailure();console.error(\"Ошибка при отправки данных регистрации пользователя:\",_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(PageWithIdentification,{name:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",textSubmit:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\",signatute:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \",linkText:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",linkTo:\"/sign-in\",onSubmit:handleSubmit,onChange:handleChange});}export default Register;","map":{"version":3,"names":["useNavigate","React","useState","PageWithIdentification","authenticationApi","jsx","_jsx","Register","_ref","onSuccess","onFailure","navigate","_useState","password","email","_useState2","_slicedToArray","data","setData","handleChange","e","_e$target","target","name","value","prevState","_objectSpread","_defineProperty","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","preventDefault","pushRegistration","sent","t0","console","error","stop","textSubmit","signatute","linkText","linkTo","onSubmit","onChange"],"sources":["C:/Users/Администратор/Desktop/Study/dev/twelve-project/mesto-react/src/components/landing/Register.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport React, { useState } from \"react\";\nimport PageWithIdentification from \"./PageWithIdentification\";\nimport authenticationApi from \"../../utils/Authentication\";\n\nfunction Register({ onSuccess, onFailure }) {\n  const navigate = useNavigate();\n  const [data, setData] = useState({\n    password: \"\",\n    email: \"\"\n  });\n\n  function handleChange(e) {\n    const {name, value} = e.target;\n    setData(prevState => ({...prevState, [name]: value}));\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    try {\n      const result = await authenticationApi.pushRegistration(data);\n      if (result.data) {\n        onSuccess();\n        navigate('/sign-in');\n      }\n    } catch (error) {\n      onFailure();\n      console.error(\"Ошибка при отправки данных регистрации пользователя:\", error);\n    }\n  }\n\n  return (\n    <PageWithIdentification\n      name=\"Регистрация\"\n      textSubmit=\"Зарегистрироваться\"\n      signatute=\"Уже зарегистрированы? \"\n      linkText=\"Войти\"\n      linkTo=\"/sign-in\"\n      onSubmit={handleSubmit}\n      onChange={handleChange}\n    />\n  )\n}\n\nexport default Register;\n"],"mappings":"mlCAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,sBAAsB,KAAM,0BAA0B,CAC7D,MAAO,CAAAC,iBAAiB,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3D,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAA2B,IAAxB,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAAEC,SAAS,CAAAF,IAAA,CAATE,SAAS,CACtC,GAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,IAAAY,SAAA,CAAwBV,QAAQ,CAAC,CAC/BW,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EACT,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAHKK,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAKpB,QAAS,CAAAI,YAAYA,CAACC,CAAC,CAAE,CACvB,IAAAC,SAAA,CAAsBD,CAAC,CAACE,MAAM,CAAvBC,IAAI,CAAAF,SAAA,CAAJE,IAAI,CAAEC,KAAK,CAAAH,SAAA,CAALG,KAAK,CAClBN,OAAO,CAAC,SAAAO,SAAS,SAAAC,aAAA,CAAAA,aAAA,IAASD,SAAS,KAAAE,eAAA,IAAGJ,IAAI,CAAGC,KAAK,IAAE,CAAC,CACvD,CAAC,QAEc,CAAAI,YAAYA,CAAAC,EAAA,SAAAC,aAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,cAAA,EAAAA,aAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAC,QAA4BhB,CAAC,MAAAiB,MAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3BtB,CAAC,CAACuB,cAAc,CAAC,CAAC,CAACH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEI,CAAAtC,iBAAiB,CAACwC,gBAAgB,CAAC3B,IAAI,CAAC,QAAvDoB,MAAM,CAAAG,QAAA,CAAAK,IAAA,CACZ,GAAIR,MAAM,CAACpB,IAAI,CAAE,CACfR,SAAS,CAAC,CAAC,CACXE,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC6B,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAED9B,SAAS,CAAC,CAAC,CACXqC,OAAO,CAACC,KAAK,CAAC,sDAAsD,CAAAR,QAAA,CAAAM,EAAO,CAAC,CAAC,yBAAAN,QAAA,CAAAS,IAAA,MAAAb,OAAA,gBAEhF,UAAAN,aAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,mBACE1B,IAAA,CAACH,sBAAsB,EACrBoB,IAAI,CAAC,oEAAa,CAClB2B,UAAU,CAAC,8GAAoB,CAC/BC,SAAS,CAAC,uHAAwB,CAClCC,QAAQ,CAAC,gCAAO,CAChBC,MAAM,CAAC,UAAU,CACjBC,QAAQ,CAAE1B,YAAa,CACvB2B,QAAQ,CAAEpC,YAAa,CACxB,CAAC,CAEN,CAEA,cAAe,CAAAZ,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}