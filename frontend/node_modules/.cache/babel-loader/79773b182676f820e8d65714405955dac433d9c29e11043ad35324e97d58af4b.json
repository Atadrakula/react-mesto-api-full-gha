{"ast":null,"code":"import _toConsumableArray from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440/Desktop/Study/dev/twelve-project/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Footer from\"./landing/Footer.js\";import Main from\"./landing/Main.js\";import ImagePopup from\"./landing/ImagePopup.js\";import React,{useState,useEffect,useCallback}from\"react\";import api from\"../utils/Api.js\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import EditProfilePopup from\"./landing/EditProfilePopup.js\";import EditAvatarPopup from'./landing/EditAvatarPopup.js';import AddPlacePopup from\"./landing/AddPlacePopup.js\";import{Route,Routes,Navigate,useNavigate}from\"react-router-dom\";import Login from\"./landing/Login.js\";import Register from\"./landing/Register.js\";import DoneInfoToolTip from\"./landing/DoneInfoToolTip.js\";import DismissInfoToolTip from\"./landing/DismissInfoToolTip.js\";import ProtectedRouteElement from\"./ProtectedRoute.js\";import MainHeader from\"./landing/MainHeader.js\";import SignInHeader from\"./landing/SignInHeader.js\";import SignUpHeader from\"./landing/SignUpHeader.js\";import authenticationApi from\"../utils/Authentication.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),isSelectedCard=_useState8[0],setSelectedCard=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),currentUser=_useState10[0],setCurrentUser=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),loadingText=_useState12[0],setLoadingText=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isDoneInfoToolTip=_useState14[0],setDoneInfoToolTip=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isDismissInfoToolTip=_useState16[0],setDismissInfoToolTip=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loggedIn=_useState18[0],setLoggedIn=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),email=_useState20[0],setEmail=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),cards=_useState22[0],setCards=_useState22[1];var navigate=useNavigate();useEffect(function(){var checkToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,userData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=localStorage.getItem('jwt');if(!token){_context.next=18;break;}_context.prev=2;authenticationApi.setToken(token);_context.next=6;return authenticationApi.pullDataAuth();case 6:userData=_context.sent;setEmail(userData.data.email);setLoggedIn(true);navigate('/main',{replace:true});_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F: \".concat(_context.t0));setLoggedIn(false);case 16:_context.next=19;break;case 18:setLoggedIn(false);case 19:case\"end\":return _context.stop();}},_callee,null,[[2,12]]);}));return function checkToken(){return _ref.apply(this,arguments);};}();checkToken();},[]);useEffect(function(){var getUserInfo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var dataCards;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.pullCardInfo();case 3:dataCards=_context2.sent;setCards(dataCards);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F: \".concat(_context2.t0));case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function getUserInfo(){return _ref2.apply(this,arguments);};}();if(loggedIn){getUserInfo();}},[setCards,loggedIn]);useEffect(function(){var fetchUserInfo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var dataUser;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.pullProfileInfo();case 3:dataUser=_context3.sent;setCurrentUser(dataUser);_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F: \".concat(_context3.t0));case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return function fetchUserInfo(){return _ref3.apply(this,arguments);};}();if(loggedIn){fetchUserInfo();}},[loggedIn]);function handleLogin(_x){return _handleLogin.apply(this,arguments);}function _handleLogin(){_handleLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(data){var result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return authenticationApi.pushLogin(data);case 3:result=_context4.sent;if(result.token){authenticationApi.setToken(result.token);setEmail(data.email);setLoggedIn(true);navigate('/main',{replace:true});}_context4.next=11;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u0438 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F: \".concat(_context4.t0));openDismissInfoToolTip();case 11:case\"end\":return _context4.stop();}},_callee4,null,[[0,7]]);}));return _handleLogin.apply(this,arguments);}function handleRegister(_x2){return _handleRegister.apply(this,arguments);}function _handleRegister(){_handleRegister=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(data){var result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return authenticationApi.pushRegistration(data);case 3:result=_context5.sent;if(result.data){openDoneInfoToolTip();navigate('/sign-in',{replace:true});}_context5.next=11;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);openDismissInfoToolTip();console.error(\"Ошибка при отправки данных регистрации пользователя:\",_context5.t0);case 11:case\"end\":return _context5.stop();}},_callee5,null,[[0,7]]);}));return _handleRegister.apply(this,arguments);}function handleCardLike(_x3){return _handleCardLike.apply(this,arguments);}function _handleCardLike(){_handleCardLike=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(targetCard){var isLiked,checkedCard,newCards;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:isLiked=targetCard.likes.some(function(i){return i._id===currentUser._id;});_context6.prev=1;_context6.next=4;return api.toggleLikeCard(targetCard._id,!isLiked);case 4:checkedCard=_context6.sent;newCards=cards.map(function(card){return card._id===checkedCard._id?checkedCard:card;});setCards(newCards);_context6.next=12;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](1);console.error(\"Ошибка при лайке/дизлайке карточки:\",_context6.t0);case 12:case\"end\":return _context6.stop();}},_callee6,null,[[1,9]]);}));return _handleCardLike.apply(this,arguments);}function handleCardDelete(_x4){return _handleCardDelete.apply(this,arguments);}function _handleCardDelete(){_handleCardDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(targetCard){var newCards;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return api.deleteCard(targetCard._id);case 3:newCards=cards.filter(function(card){return card._id!==targetCard._id;});setCards(newCards);_context7.next=10;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](0);console.error(\"Ошибка при удалении карточки:\",_context7.t0);case 10:case\"end\":return _context7.stop();}},_callee7,null,[[0,7]]);}));return _handleCardDelete.apply(this,arguments);}function handleUpdateUser(_x5){return _handleUpdateUser.apply(this,arguments);}function _handleUpdateUser(){_handleUpdateUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(dataUser){var updateData;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_context8.prev=0;setLoadingText('Сохранение...');_context8.next=4;return api.patchProfileInfo(dataUser);case 4:updateData=_context8.sent;setCurrentUser(updateData);closeAllPopups();_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](0);console.error(\"Ошибка при обновлении данных пользователя:\",_context8.t0);case 12:_context8.prev=12;setLoadingText(null);return _context8.finish(12);case 15:case\"end\":return _context8.stop();}},_callee8,null,[[0,9,12,15]]);}));return _handleUpdateUser.apply(this,arguments);}function handleUpdateAvatar(_x6){return _handleUpdateAvatar.apply(this,arguments);}function _handleUpdateAvatar(){_handleUpdateAvatar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(avatarLink){var updateAvatar;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:_context9.prev=0;setLoadingText('Сохранение...');_context9.next=4;return api.pushAvatar(avatarLink);case 4:updateAvatar=_context9.sent;setCurrentUser(updateAvatar);closeAllPopups();_context9.next=12;break;case 9:_context9.prev=9;_context9.t0=_context9[\"catch\"](0);console.error(\"Ошибка при обновлении данных пользователя:\",_context9.t0);case 12:_context9.prev=12;setLoadingText(null);return _context9.finish(12);case 15:case\"end\":return _context9.stop();}},_callee9,null,[[0,9,12,15]]);}));return _handleUpdateAvatar.apply(this,arguments);}function handleAddPlaceSubmit(_x7){return _handleAddPlaceSubmit.apply(this,arguments);}function _handleAddPlaceSubmit(){_handleAddPlaceSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(dataCard){var pushCardInfo;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:_context10.prev=0;setLoadingText('Создание...');_context10.next=4;return api.pushCardInfo(dataCard);case 4:pushCardInfo=_context10.sent;setCards([pushCardInfo].concat(_toConsumableArray(cards)));closeAllPopups();_context10.next=12;break;case 9:_context10.prev=9;_context10.t0=_context10[\"catch\"](0);console.error(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043D\\u043E\\u0432\\u043E\\u0439 \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438: \".concat(_context10.t0));case 12:_context10.prev=12;setLoadingText(null);return _context10.finish(12);case 15:case\"end\":return _context10.stop();}},_callee10,null,[[0,9,12,15]]);}));return _handleAddPlaceSubmit.apply(this,arguments);}function handleSignOut(){setLoggedIn(false);localStorage.removeItem('jwt');setEmail('');}function handleCardClick(card){setSelectedCard(card);}function openEditProfilePopup(){setIsEditProfilePopupOpen(true);}function openAddPlacePopup(){setIsAddPlacePopupOpen(true);}function openEditAvatarPopup(){setIsEditAvatarPopupOpen(true);}function openDoneInfoToolTip(){setDoneInfoToolTip(true);}function openDismissInfoToolTip(){setDismissInfoToolTip(true);}var closeAllPopups=useCallback(function(){setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setDoneInfoToolTip(false);setDismissInfoToolTip(false);setSelectedCard(null);},[]);useEffect(function(){function handleEscClose(e){if(e.key===\"Escape\"){closeAllPopups();}}if(isEditProfilePopupOpen||isAddPlacePopupOpen||isEditAvatarPopupOpen||isSelectedCard||isDoneInfoToolTip||isDismissInfoToolTip){document.addEventListener(\"keydown\",handleEscClose);return function(){document.removeEventListener(\"keydown\",handleEscClose);};}},[isEditProfilePopupOpen,isAddPlacePopupOpen,isEditAvatarPopupOpen,isSelectedCard,isDoneInfoToolTip,isDismissInfoToolTip,closeAllPopups]);return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsx(\"div\",{className:\"body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[loggedIn?/*#__PURE__*/_jsx(MainHeader,{onSignOut:handleSignOut,email:email}):/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(SignInHeader,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(SignUpHeader,{})})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:loggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/main\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/sign-in\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/main\",element:/*#__PURE__*/_jsx(ProtectedRouteElement,{element:Main,loggedIn:loggedIn,onEditProfile:openEditProfilePopup,onAddPlace:openAddPlacePopup,onEditAvatar:openEditAvatarPopup,onCardClick:handleCardClick,onCardLike:handleCardLike,cards:cards,setCards:setCards,onCardDelete:handleCardDelete})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,loadingText:loadingText}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit,loadingText:loadingText}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar,loadingText:loadingText}),/*#__PURE__*/_jsx(ImagePopup,{card:isSelectedCard,onClose:closeAllPopups}),/*#__PURE__*/_jsx(DoneInfoToolTip,{isOpen:isDoneInfoToolTip,onClose:closeAllPopups}),/*#__PURE__*/_jsx(DismissInfoToolTip,{isOpen:isDismissInfoToolTip,onClose:closeAllPopups})]})})});}export default App;","map":{"version":3,"names":["Footer","Main","ImagePopup","React","useState","useEffect","useCallback","api","CurrentUserContext","EditProfilePopup","EditAvatarPopup","AddPlacePopup","Route","Routes","Navigate","useNavigate","Login","Register","DoneInfoToolTip","DismissInfoToolTip","ProtectedRouteElement","MainHeader","SignInHeader","SignUpHeader","authenticationApi","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","isEditProfilePopupOpen","setIsEditProfilePopupOpen","_useState3","_useState4","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_useState5","_useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_useState7","_useState8","isSelectedCard","setSelectedCard","_useState9","_useState10","currentUser","setCurrentUser","_useState11","_useState12","loadingText","setLoadingText","_useState13","_useState14","isDoneInfoToolTip","setDoneInfoToolTip","_useState15","_useState16","isDismissInfoToolTip","setDismissInfoToolTip","_useState17","_useState18","loggedIn","setLoggedIn","_useState19","_useState20","email","setEmail","_useState21","_useState22","cards","setCards","navigate","checkToken","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","userData","wrap","_callee$","_context","prev","next","localStorage","getItem","setToken","pullDataAuth","sent","data","replace","t0","console","error","concat","stop","apply","arguments","getUserInfo","_ref2","_callee2","dataCards","_callee2$","_context2","pullCardInfo","fetchUserInfo","_ref3","_callee3","dataUser","_callee3$","_context3","pullProfileInfo","handleLogin","_x","_handleLogin","_callee4","result","_callee4$","_context4","pushLogin","openDismissInfoToolTip","handleRegister","_x2","_handleRegister","_callee5","_callee5$","_context5","pushRegistration","openDoneInfoToolTip","handleCardLike","_x3","_handleCardLike","_callee6","targetCard","isLiked","checkedCard","newCards","_callee6$","_context6","likes","some","i","_id","toggleLikeCard","map","card","handleCardDelete","_x4","_handleCardDelete","_callee7","_callee7$","_context7","deleteCard","filter","handleUpdateUser","_x5","_handleUpdateUser","_callee8","updateData","_callee8$","_context8","patchProfileInfo","closeAllPopups","finish","handleUpdateAvatar","_x6","_handleUpdateAvatar","_callee9","avatarLink","updateAvatar","_callee9$","_context9","pushAvatar","handleAddPlaceSubmit","_x7","_handleAddPlaceSubmit","_callee10","dataCard","pushCardInfo","_callee10$","_context10","_toConsumableArray","handleSignOut","removeItem","handleCardClick","openEditProfilePopup","openAddPlacePopup","openEditAvatarPopup","handleEscClose","e","key","document","addEventListener","removeEventListener","Provider","value","children","className","onSignOut","path","element","to","onEditProfile","onAddPlace","onEditAvatar","onCardClick","onCardLike","onCardDelete","onRegister","onLogin","isOpen","onClose","onUpdateUser","onUpdateAvatar"],"sources":["C:/Users/Администратор/Desktop/Study/dev/twelve-project/mesto-react/src/components/App.js"],"sourcesContent":["import Footer from \"./landing/Footer.js\";\r\nimport Main from \"./landing/Main.js\";\r\nimport ImagePopup from \"./landing/ImagePopup.js\";\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport api from \"../utils/Api.js\";\r\nimport {\r\n  CurrentUserContext\r\n} from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./landing/EditProfilePopup.js\";\r\nimport EditAvatarPopup from './landing/EditAvatarPopup.js';\r\nimport AddPlacePopup from \"./landing/AddPlacePopup.js\";\r\nimport { Route, Routes, Navigate, useNavigate } from \"react-router-dom\";\r\nimport Login from \"./landing/Login.js\";\r\nimport Register from \"./landing/Register.js\";\r\nimport DoneInfoToolTip from \"./landing/DoneInfoToolTip.js\";\r\nimport DismissInfoToolTip from \"./landing/DismissInfoToolTip.js\";\r\nimport ProtectedRouteElement from \"./ProtectedRoute.js\";\r\nimport MainHeader from \"./landing/MainHeader.js\";\r\nimport SignInHeader from \"./landing/SignInHeader.js\";\r\nimport SignUpHeader from \"./landing/SignUpHeader.js\";\r\nimport authenticationApi from \"../utils/Authentication.js\";\r\n\r\n\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isSelectedCard, setSelectedCard] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [loadingText, setLoadingText] = useState(null);\r\n  const [isDoneInfoToolTip, setDoneInfoToolTip] = useState(false);\r\n  const [isDismissInfoToolTip, setDismissInfoToolTip] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const checkToken = async () => {\r\n      const token = localStorage.getItem('jwt');\r\n      if (token) {\r\n        try {\r\n          authenticationApi.setToken(token);\r\n          const userData = await authenticationApi.pullDataAuth();\r\n          setEmail(userData.data.email);\r\n          setLoggedIn(true);\r\n          navigate('/main', {replace: true});\r\n        } catch (error) {\r\n          console.error(`Ошибка при загрузке данных пользователя: ${error}`);\r\n          setLoggedIn(false);\r\n        }\r\n      } else {\r\n        setLoggedIn(false);\r\n      }\r\n    };\r\n    checkToken();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const getUserInfo = async () => {\r\n      try {\r\n        const dataCards = await api.pullCardInfo();\r\n        setCards(dataCards);\r\n      } catch (error) {\r\n        console.error(`Ошибка при загрузке данных пользователя: ${error}`);\r\n      }\r\n    };\r\n\r\n    if(loggedIn) {\r\n      getUserInfo();\r\n    }\r\n  }, [setCards, loggedIn]);\r\n\r\n  useEffect(() => {\r\n    const fetchUserInfo = async () => {\r\n      try {\r\n        const dataUser = await api.pullProfileInfo();\r\n        setCurrentUser(dataUser);\r\n      } catch (error) {\r\n        console.error(`Ошибка при загрузке данных пользователя: ${error}`);\r\n      }\r\n\r\n    }\r\n\r\n    if(loggedIn) {\r\n      fetchUserInfo();\r\n    }\r\n\r\n  }, [loggedIn]);\r\n\r\n  async function handleLogin(data) {\r\n    try {\r\n      const result = await authenticationApi.pushLogin(data);\r\n      if (result.token) {\r\n        authenticationApi.setToken(result.token);\r\n        setEmail(data.email);\r\n        setLoggedIn(true);\r\n        navigate('/main', {replace: true});\r\n      }\r\n    } catch (error) {\r\n      console.error(`Ошибка при отправки данных регистрации пользователя: ${error}`);\r\n      openDismissInfoToolTip();\r\n    }\r\n  }\r\n\r\n  async function handleRegister(data) {\r\n    try {\r\n      const result = await authenticationApi.pushRegistration(data);\r\n      if (result.data) {\r\n        openDoneInfoToolTip();\r\n        navigate('/sign-in', {replace: true});\r\n      }\r\n    } catch (error) {\r\n      openDismissInfoToolTip();\r\n      console.error(\"Ошибка при отправки данных регистрации пользователя:\", error);\r\n    }\r\n  }\r\n\r\n  async function handleCardLike(targetCard) {\r\n\r\n    const isLiked = targetCard.likes.some(i => i._id === currentUser._id);\r\n\r\n    try {\r\n      const checkedCard = await api.toggleLikeCard(targetCard._id, !isLiked);\r\n      const newCards = cards.map(card => card._id === checkedCard._id ? checkedCard : card);\r\n      setCards(newCards);\r\n    } catch (error) {\r\n      console.error(\"Ошибка при лайке/дизлайке карточки:\", error);\r\n    }\r\n  }\r\n\r\n  async function handleCardDelete(targetCard) {\r\n    try {\r\n      await api.deleteCard(targetCard._id);\r\n      const newCards = cards.filter(card => card._id !== targetCard._id);\r\n      setCards(newCards);\r\n    } catch (error) {\r\n      console.error(\"Ошибка при удалении карточки:\", error);\r\n    }\r\n  }\r\n\r\n  async function handleUpdateUser(dataUser) {\r\n    try {\r\n      setLoadingText('Сохранение...');\r\n      const updateData = await api.patchProfileInfo(dataUser);\r\n      setCurrentUser(updateData);\r\n      closeAllPopups();\r\n    } catch (error) {\r\n      console.error(\"Ошибка при обновлении данных пользователя:\", error);\r\n    } finally {\r\n      setLoadingText(null);\r\n    }\r\n  }\r\n\r\n  async function handleUpdateAvatar(avatarLink) {\r\n    try {\r\n      setLoadingText('Сохранение...');\r\n      const updateAvatar = await api.pushAvatar(avatarLink);\r\n      setCurrentUser(updateAvatar);\r\n      closeAllPopups();\r\n    } catch (error) {\r\n      console.error(\"Ошибка при обновлении данных пользователя:\", error);\r\n    } finally {\r\n      setLoadingText(null);\r\n    }\r\n  }\r\n\r\n  async function handleAddPlaceSubmit(dataCard) {\r\n    try {\r\n      setLoadingText('Создание...');\r\n      const pushCardInfo = await api.pushCardInfo(dataCard);\r\n      setCards([pushCardInfo, ...cards]);\r\n      closeAllPopups();\r\n    } catch (error) {\r\n      console.error(`Ошибка при загрузке данных новой карточки: ${error}`);\r\n    } finally {\r\n      setLoadingText(null);\r\n    }\r\n  }\r\n\r\n  function handleSignOut() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('jwt');\r\n    setEmail('');\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function openEditProfilePopup() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function openAddPlacePopup() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function openEditAvatarPopup() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function openDoneInfoToolTip() {\r\n    setDoneInfoToolTip(true);\r\n  }\r\n\r\n  function openDismissInfoToolTip() {\r\n    setDismissInfoToolTip(true);\r\n  }\r\n\r\n  const closeAllPopups = useCallback(() => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setDoneInfoToolTip(false);\r\n    setDismissInfoToolTip(false);\r\n    setSelectedCard(null);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    function handleEscClose(e) {\r\n      if (e.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    if (\r\n      isEditProfilePopupOpen ||\r\n      isAddPlacePopupOpen ||\r\n      isEditAvatarPopupOpen ||\r\n      isSelectedCard ||\r\n      isDoneInfoToolTip ||\r\n      isDismissInfoToolTip\r\n    ) {\r\n      document.addEventListener(\"keydown\", handleEscClose);\r\n\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleEscClose);\r\n      };\r\n    }\r\n  }, [\r\n    isEditProfilePopupOpen,\r\n    isAddPlacePopupOpen,\r\n    isEditAvatarPopupOpen,\r\n    isSelectedCard,\r\n    isDoneInfoToolTip,\r\n    isDismissInfoToolTip,\r\n    closeAllPopups\r\n  ]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"body\">\r\n        <div className=\"page\">\r\n          {loggedIn ? (\r\n            <MainHeader onSignOut={handleSignOut} email={email} />\r\n          ) : (\r\n            <Routes>\r\n              <Route path=\"/sign-in\" element={<SignInHeader />} />\r\n              <Route path=\"/sign-up\" element={<SignUpHeader />} />\r\n            </Routes>\r\n          )}\r\n          <Routes>\r\n            <Route path=\"/\" element={loggedIn ? <Navigate to=\"/main\" replace /> : <Navigate to=\"/sign-in\" replace />} />\r\n            <Route path=\"/main\" element={<ProtectedRouteElement\r\n              element={Main}\r\n              loggedIn={loggedIn}\r\n              onEditProfile={openEditProfilePopup}\r\n              onAddPlace={openAddPlacePopup}\r\n              onEditAvatar={openEditAvatarPopup}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              cards={cards}\r\n              setCards={setCards}\r\n              onCardDelete={handleCardDelete}\r\n            />} />\r\n            <Route path='/sign-up' element={<Register onRegister={handleRegister} />} />\r\n            <Route path='/sign-in' element={<Login onLogin={handleLogin} />} />\r\n          </Routes>\r\n          <Footer />\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} loadingText={loadingText} />\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} loadingText={loadingText} />\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} loadingText={loadingText} />\r\n          <ImagePopup card={isSelectedCard} onClose={closeAllPopups} />\r\n          <DoneInfoToolTip isOpen={isDoneInfoToolTip} onClose={closeAllPopups} />\r\n          <DismissInfoToolTip isOpen={isDismissInfoToolTip} onClose={closeAllPopups} />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}